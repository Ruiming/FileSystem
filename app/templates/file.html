<article class="disks-files row">
    <header><i class="material-icons">toys</i>文件管理器</header>
    <section class="file-center col-md-10 col-sm-12 col-xs-12">
        <div class="action">
            <button class="btn btn-info" ng-click="home()" ng-disabled="path == 'Computer'">
                <i class="material-icons">home</i>
            </button>
            <button class="btn btn-info" ng-click="Hbackward()" ng-disabled="backwardStore.length==1">
                <i class="material-icons">keyboard_arrow_left</i>
            </button>
            <button class="btn btn-info" ng-click="Hforward()" ng-disabled="forwardStore.length==0">
                <i class="material-icons">keyboard_arrow_right</i>
            </button>
            <form>
                <div class="form-group">
                    <label for="search" hidden>搜索</label>
                    <input type="text" ng-model="wanted" class="form-control" id="search" placeholder="请输入您要搜索的内容">
                </div>
                <button class="btn btn-info" ng-click="search(wanted)">
                    <i class="material-icons">search</i>
                </button>
            </form>
        </div>
        <table ng-show="path == 'Computer'">
            <tbody>
                <tr class="menu">
                    <th>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                    <th>Name</th>
                    <th>FileSystem</th>
                    <th>FreeSpace</th>
                    <th>Size</th>
                </tr>
                <tr ng-repeat="x in disks"  ng-dblclick="forward(x.Name)" class="list">
                    <td><img ng-src="{{x.src}}"></td>
                    <td>{{x.Name}}</td>
                    <td>{{x.FileSystem}}</td>
                    <td>{{x.FreeSpace / 1024 / 1024 / 1024 | number: 0}} GB</td>
                    <td>{{x.Size / 1024 / 1024 / 1024 | number: 0}} GB</td>
                </tr>
            </tbody>
        </table>
        <table ng-show="path != 'Computer'">
            <tbody id="file">
                <tr class="menu">
                    <th>&nbsp;&nbsp;&nbsp;&nbsp;</th>
                    <th ng-click="col='name';desc=!desc">Name</th>
                    <th ng-click="col='atime';desc=!desc" class="hidden-xs">Atime</th>
                    <th ng-click="col='type';desc=!desc">Type</th>
                    <th ng-click="col='size';desc=!desc">Size</th>
                </tr>
                <tr class="list"
                    ng-repeat="x in files | index | orderBy:col:desc track by $index"
                    ng-dblclick="forward_folder(x)"
                    ng-if="path != 'Computer'"
                    ng-click="select(x.index)"
                    ng-mouseleave = "leave(x.index)"
                    ng-keypress="listenEnter($event, x.index)"
                    ng-class="{true: 'tr-active', false: 'tr-inactive'}[x.hover]"
                    id={{x.index}}>
                    <td><img ng-src="{{x.src}}"></td>
                    <td ng-if="x.rename"><input type="text" ng-model="x.name" focus-me="{{x.rename}}" ng-blur="rename(x.index)"></td>
                    <td ng-if="!x.rename" ng-bind="x.name"></td>
                    <td ng-bind="x.atime | date:'yyyy-MM-dd HH:mm:ss'" class="hidden-xs"></td>    <!--修改时间 修改文件内容-->
                    <td ng-bind="x.type"></td>
                    <td ng-if="x.size < 1024 && x.size >= 0 && x.isFile()">{{x.size | number: 2}} B</td>
                    <td ng-if="x.size >= 1024 && x.size < 1024*1024">{{x.size / 1024 | number: 2}} KB</td>
                    <td ng-if="x.size >= 1024*1024">{{x.size / 1024 / 1024 | number: 2}} MB</td>
                    <td ng-if="x.isDirectory()">&nbsp;</td>
                </tr>
            </tbody>
        </table>
    </section>
    <section class="preview col-md-2 hidden-xs hidden-sm" ng-show="path != 'Computer'">
        <div class="preview-text">
            <img ng-src="{{last.src}}">
            <p>{{last.name}}</p>
        </div>
        <div class="preview-info">
            <label>Atime:</label><p>{{last.atime | date:'yyyy-MM-dd HH:mm:ss'}}</p>
            <label>Birthtime:</label><p>{{last.birthtime | date:'yyyy-MM-dd HH:mm:ss'}}</p>
            <label>Ctime:</label><p>{{last.ctime | date:'yyyy-MM-dd HH:mm:ss'}}</p>
        </div>
        <label ng-if="content && content!=''">内容预览</label>
        <p class="preview-content">{{content}}</p>
    </section>
</article>
<ul class="breadcrumb" ng-init="checked = false">
    <p class="message message-show-hide" ng-show="checked">{{message}}</p>
    <li><a href="javascript:void(0)" ng-click="turnto('Computer')">Computer</a></li>
    <li ng-repeat="bread in breadcrumbs track by $index" ng-if="bread != 'Computer'"><a href="javascript:void(0)" ng-click="turnto(bread)">{{bread}}</a></li>
    <li class="number" ng-show="path != 'Computer'">共{{files.length}}个项目</li>
</ul>